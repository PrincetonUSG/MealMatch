<!DOCTYPE html>
<html>

<head>
	<title>MealMatch | {{title_value}}</title>
	{% include 'imports.html' %}
</head>

<body class="forceMaven">
	{% include 'header.html' %}


	{% if new_user %}
	<div class="modal fade" id="newUserModal" tabindex="-1"
				aria-labelledby="ModalLabel_newUser" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="ModalLabel_Disclaimer">
								Disclaimer</h5>
							<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
						</div>
						<div class="modal-body">
							<p>
								By using MealMatch, you are agreeing to allow some personal information 
								(e.g, name, major, class year, phone number) to be shared with other users/Princeton students. <br/>
								MealMatch is not responsible for any communication or interaction that occurs outside of the app.
							</p>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary sml_button"
							 style = "background-color: #ff9f46; color: white;"
							 data-bs-dismiss="modal">Close</button>
						</div>
					</div>
				</div>
	</div>
	<script type="text/javascript">
		$(window).on('load', function() {
			$('#newUserModal').modal('show');
		});
	</script>
	{% endif %}


	<div class="container-fluid">
		<div style="margin-top: 10px;">
			<h2>{{title_value}}</h2>
		</div>
		<hr>
		<form action="/submit_profile_form" method="get">
			<table>
				<tr>
					<td align="right">Name:</td>
					<td>
						<input class="form-control profileInput" name="name" id='name' required pattern="[A-ZÀ-ÿ][-,a-zA-Z. ']+[ ]*"
							value="{{existing_profile_info['name']}}" placeholder="First and Last Name">
					</td>
				</tr>
				<tr>
					<td align="right">Year:</td>
					<td>
						<select class="form-select profileInput" name="year" required>
							<option disabled selected hidden value="">Select your year</option>
							{%for i in range(-1, 4)%}
							{%set output = senior_class+i %}
							{% if i == -1 %}
							{%set output = "Grad Student" %}
							{% endif %}
							{% if senior_class+i==existing_profile_info['year'] %}
							<option selected>{{output}}</option>
							{% else %}
							<option>{{output}}</option>
							{% endif %}
							{%endfor%}
						</select>
					</td>
				</tr>
				<tr>
					<td align="right">Major:</td>
					<td>
						<select class="form-select profileInput" name="major" required>
							<option disabled selected hidden value="">Choose your major</option>
							{% for major in majors %}
							{% if major==existing_profile_info['major'] %}
							<option selected>{{major}}</option>
							{% else %}
							<option>{{major}}</option>
							{% endif %}
							{% endfor %}
						</select>
					</td>
				</tr>

				<tr>
					<td align="right">Bio:</td>
					<td>
						<textarea class="form-control profileInput"
							placeholder="Tell your future match some things about yourself! Any good conversation starters?"
							name="bio">{{existing_profile_info['bio']}}</textarea>
					</td>
				</tr>

				<tr>
					<td align="right">Phone Number:</td>
					<td>
						<input class="form-control profileInput" type="tel" name="phonenum"
							placeholder="10 digits, no dashes etc." pattern="[0-9]{10}" required
							value="{{existing_profile_info['phonenum']}}">
					</td>
				</tr>
				<tr>
					<td>
					</td>
					<td>
						<input id='submit' class="form-control profileInput orange-moon mainButton enter-button"
							type="submit" value="{{button_value}}">
					</td>
					<div>
						{% if valid_phonenum == False %}
						<div class="container row" id="errorBox" style="color: red">Please enter a valid US phone number.</div>
						{% endif %}
					</div>
				</tr>
			</table>
		</form>
	</div>
	<hr>
</body>

</html>
<style>
	.profileInput {
		padding-left: 10px;
		padding-top: 10px;
		padding-bottom: 10px;
		margin-top: 5px;
		margin-bottom: 5px;
	}
	.mainButton:hover {
		transform: scale(1.05) perspective(1px);
	}
</style>